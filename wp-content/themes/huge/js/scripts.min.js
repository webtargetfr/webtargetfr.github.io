/*!
 * imagesLoaded PACKAGED v3.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */

(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function c(e){this.img=e}function f(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},s.prototype.addImage=function(e){var t=new c(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),c.prototype=new t,c.prototype.check=function(){var e=v[this.img.src]||new f(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},c.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});

/*
 * jQuery.styledSelect - <select> replacement plugin
 * https://github.com/rubenbristian/styled-select/tree/master
 * Copyright (c) 2013 Ruben Bristian
 * version 1.0
 * forked from http://wellstyled.com/en/javascript-styleselect-jquery-plugin/
 */

jQuery.fn.styledSelect=function(c){var b={coverClass:"select-replace-cover",innerClass:"select-replace",adjustPosition:{top:0,left:0},selectOpacity:0};c&&jQuery.extend(b,c);return this.each(function(){var a=jQuery(this);a.wrap("<span></span>");a.after("<span></span>");var c=a.next(),d=a.parent();a.css({opacity:b.selectOpacity,visibility:"visible",position:"absolute",top:0,left:0,display:"inline","z-index":1});d.addClass(b.coverClass).css({display:"inline-block",position:"relative",top:b.adjustPosition.top, left:b.adjustPosition.left,"z-index":0,"vertical-align":"middle","text-align":"left"});c.addClass(b.innerClass).css({display:"block","white-space":"nowrap"});a.bind("change",function(){jQuery(this).next().text(this.options[this.selectedIndex].text)});c.text(a.children("option").eq(a.context.selectedIndex).text());d.width(a.width()+"px")})};

/*
* @fileOverview TouchSwipe - jQuery Plugin
* @version 1.6.5
*
* @author Matt Bryson http://www.github.com/mattbryson
* @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* @see http://labs.skinkers.com/touchSwipe/
* @see http://plugins.jquery.com/project/touchSwipe
*
* Copyright (c) 2010 Matt Bryson
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/

(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}}(function(e){var o="left",n="right",d="up",v="down",c="in",w="out",l="none",r="auto",k="swipe",s="pinch",x="tap",i="doubletap",b="longtap",A="horizontal",t="vertical",h="all",q=10,f="start",j="move",g="end",p="cancel",a="ontouchstart" in window,y="TouchSwipe";var m={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(D){var C=e(this),B=C.data(y);if(B&&typeof D==="string"){if(B[D]){return B[D].apply(this,Array.prototype.slice.call(arguments,1))}else{e.error("Method "+D+" does not exist on jQuery.swipe")}}else{if(!B&&(typeof D==="object"||!D)){return u.apply(this,arguments)}}return C};e.fn.swipe.defaults=m;e.fn.swipe.phases={PHASE_START:f,PHASE_MOVE:j,PHASE_END:g,PHASE_CANCEL:p};e.fn.swipe.directions={LEFT:o,RIGHT:n,UP:d,DOWN:v,IN:c,OUT:w};e.fn.swipe.pageScroll={NONE:l,HORIZONTAL:A,VERTICAL:t,AUTO:r};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:h};function u(B){if(B&&(B.allowPageScroll===undefined&&(B.swipe!==undefined||B.swipeStatus!==undefined))){B.allowPageScroll=l}if(B.click!==undefined&&B.tap===undefined){B.tap=B.click}if(!B){B={}}B=e.extend({},e.fn.swipe.defaults,B);return this.each(function(){var D=e(this);var C=D.data(y);if(!C){C=new z(this,B);D.data(y,C)}})}function z(a0,aq){var av=(a||!aq.fallbackToMouseEvents),G=av?"touchstart":"mousedown",au=av?"touchmove":"mousemove",R=av?"touchend":"mouseup",P=av?null:"mouseleave",az="touchcancel";var ac=0,aL=null,Y=0,aX=0,aV=0,D=1,am=0,aF=0,J=null;var aN=e(a0);var W="start";var T=0;var aM=null;var Q=0,aY=0,a1=0,aa=0,K=0;var aS=null;try{aN.bind(G,aJ);aN.bind(az,a5)}catch(ag){e.error("events not supported "+G+","+az+" on jQuery.swipe")}this.enable=function(){aN.bind(G,aJ);aN.bind(az,a5);return aN};this.disable=function(){aG();return aN};this.destroy=function(){aG();aN.data(y,null);return aN};this.option=function(a8,a7){if(aq[a8]!==undefined){if(a7===undefined){return aq[a8]}else{aq[a8]=a7}}else{e.error("Option "+a8+" does not exist on jQuery.swipe.options")}return null};function aJ(a9){if(ax()){return}if(e(a9.target).closest(aq.excludedElements,aN).length>0){return}var ba=a9.originalEvent?a9.originalEvent:a9;var a8,a7=a?ba.touches[0]:ba;W=f;if(a){T=ba.touches.length}else{a9.preventDefault()}ac=0;aL=null;aF=null;Y=0;aX=0;aV=0;D=1;am=0;aM=af();J=X();O();if(!a||(T===aq.fingers||aq.fingers===h)||aT()){ae(0,a7);Q=ao();if(T==2){ae(1,ba.touches[1]);aX=aV=ap(aM[0].start,aM[1].start)}if(aq.swipeStatus||aq.pinchStatus){a8=L(ba,W)}}else{a8=false}if(a8===false){W=p;L(ba,W);return a8}else{ak(true)}return null}function aZ(ba){var bd=ba.originalEvent?ba.originalEvent:ba;if(W===g||W===p||ai()){return}var a9,a8=a?bd.touches[0]:bd;var bb=aD(a8);aY=ao();if(a){T=bd.touches.length}W=j;if(T==2){if(aX==0){ae(1,bd.touches[1]);aX=aV=ap(aM[0].start,aM[1].start)}else{aD(bd.touches[1]);aV=ap(aM[0].end,aM[1].end);aF=an(aM[0].end,aM[1].end)}D=a3(aX,aV);am=Math.abs(aX-aV)}if((T===aq.fingers||aq.fingers===h)||!a||aT()){aL=aH(bb.start,bb.end);ah(ba,aL);ac=aO(bb.start,bb.end);Y=aI();aE(aL,ac);if(aq.swipeStatus||aq.pinchStatus){a9=L(bd,W)}if(!aq.triggerOnTouchEnd||aq.triggerOnTouchLeave){var a7=true;if(aq.triggerOnTouchLeave){var bc=aU(this);a7=B(bb.end,bc)}if(!aq.triggerOnTouchEnd&&a7){W=ay(j)}else{if(aq.triggerOnTouchLeave&&!a7){W=ay(g)}}if(W==p||W==g){L(bd,W)}}}else{W=p;L(bd,W)}if(a9===false){W=p;L(bd,W)}}function I(a7){var a8=a7.originalEvent;if(a){if(a8.touches.length>0){C();return true}}if(ai()){T=aa}a7.preventDefault();aY=ao();Y=aI();if(a6()){W=p;L(a8,W)}else{if(aq.triggerOnTouchEnd||(aq.triggerOnTouchEnd==false&&W===j)){W=g;L(a8,W)}else{if(!aq.triggerOnTouchEnd&&a2()){W=g;aB(a8,W,x)}else{if(W===j){W=p;L(a8,W)}}}}ak(false);return null}function a5(){T=0;aY=0;Q=0;aX=0;aV=0;D=1;O();ak(false)}function H(a7){var a8=a7.originalEvent;if(aq.triggerOnTouchLeave){W=ay(g);L(a8,W)}}function aG(){aN.unbind(G,aJ);aN.unbind(az,a5);aN.unbind(au,aZ);aN.unbind(R,I);if(P){aN.unbind(P,H)}ak(false)}function ay(bb){var ba=bb;var a9=aw();var a8=aj();var a7=a6();if(!a9||a7){ba=p}else{if(a8&&bb==j&&(!aq.triggerOnTouchEnd||aq.triggerOnTouchLeave)){ba=g}else{if(!a8&&bb==g&&aq.triggerOnTouchLeave){ba=p}}}return ba}function L(a9,a7){var a8=undefined;if(F()||S()){a8=aB(a9,a7,k)}else{if((M()||aT())&&a8!==false){a8=aB(a9,a7,s)}}if(aC()&&a8!==false){a8=aB(a9,a7,i)}else{if(al()&&a8!==false){a8=aB(a9,a7,b)}else{if(ad()&&a8!==false){a8=aB(a9,a7,x)}}}if(a7===p){a5(a9)}if(a7===g){if(a){if(a9.touches.length==0){a5(a9)}}else{a5(a9)}}return a8}function aB(ba,a7,a9){var a8=undefined;if(a9==k){aN.trigger("swipeStatus",[a7,aL||null,ac||0,Y||0,T]);if(aq.swipeStatus){a8=aq.swipeStatus.call(aN,ba,a7,aL||null,ac||0,Y||0,T);if(a8===false){return false}}if(a7==g&&aR()){aN.trigger("swipe",[aL,ac,Y,T]);if(aq.swipe){a8=aq.swipe.call(aN,ba,aL,ac,Y,T);if(a8===false){return false}}switch(aL){case o:aN.trigger("swipeLeft",[aL,ac,Y,T]);if(aq.swipeLeft){a8=aq.swipeLeft.call(aN,ba,aL,ac,Y,T)}break;case n:aN.trigger("swipeRight",[aL,ac,Y,T]);if(aq.swipeRight){a8=aq.swipeRight.call(aN,ba,aL,ac,Y,T)}break;case d:aN.trigger("swipeUp",[aL,ac,Y,T]);if(aq.swipeUp){a8=aq.swipeUp.call(aN,ba,aL,ac,Y,T)}break;case v:aN.trigger("swipeDown",[aL,ac,Y,T]);if(aq.swipeDown){a8=aq.swipeDown.call(aN,ba,aL,ac,Y,T)}break}}}if(a9==s){aN.trigger("pinchStatus",[a7,aF||null,am||0,Y||0,T,D]);if(aq.pinchStatus){a8=aq.pinchStatus.call(aN,ba,a7,aF||null,am||0,Y||0,T,D);if(a8===false){return false}}if(a7==g&&a4()){switch(aF){case c:aN.trigger("pinchIn",[aF||null,am||0,Y||0,T,D]);if(aq.pinchIn){a8=aq.pinchIn.call(aN,ba,aF||null,am||0,Y||0,T,D)}break;case w:aN.trigger("pinchOut",[aF||null,am||0,Y||0,T,D]);if(aq.pinchOut){a8=aq.pinchOut.call(aN,ba,aF||null,am||0,Y||0,T,D)}break}}}if(a9==x){if(a7===p||a7===g){clearTimeout(aS);if(V()&&!E()){K=ao();aS=setTimeout(e.proxy(function(){K=null;aN.trigger("tap",[ba.target]);if(aq.tap){a8=aq.tap.call(aN,ba,ba.target)}},this),aq.doubleTapThreshold)}else{K=null;aN.trigger("tap",[ba.target]);if(aq.tap){a8=aq.tap.call(aN,ba,ba.target)}}}}else{if(a9==i){if(a7===p||a7===g){clearTimeout(aS);K=null;aN.trigger("doubletap",[ba.target]);if(aq.doubleTap){a8=aq.doubleTap.call(aN,ba,ba.target)}}}else{if(a9==b){if(a7===p||a7===g){clearTimeout(aS);K=null;aN.trigger("longtap",[ba.target]);if(aq.longTap){a8=aq.longTap.call(aN,ba,ba.target)}}}}}return a8}function aj(){var a7=true;if(aq.threshold!==null){a7=ac>=aq.threshold}return a7}function a6(){var a7=false;if(aq.cancelThreshold!==null&&aL!==null){a7=(aP(aL)-ac)>=aq.cancelThreshold}return a7}function ab(){if(aq.pinchThreshold!==null){return am>=aq.pinchThreshold}return true}function aw(){var a7;if(aq.maxTimeThreshold){if(Y>=aq.maxTimeThreshold){a7=false}else{a7=true}}else{a7=true}return a7}function ah(a7,a8){if(aq.allowPageScroll===l||aT()){a7.preventDefault()}else{var a9=aq.allowPageScroll===r;switch(a8){case o:if((aq.swipeLeft&&a9)||(!a9&&aq.allowPageScroll!=A)){a7.preventDefault()}break;case n:if((aq.swipeRight&&a9)||(!a9&&aq.allowPageScroll!=A)){a7.preventDefault()}break;case d:if((aq.swipeUp&&a9)||(!a9&&aq.allowPageScroll!=t)){a7.preventDefault()}break;case v:if((aq.swipeDown&&a9)||(!a9&&aq.allowPageScroll!=t)){a7.preventDefault()}break}}}function a4(){var a8=aK();var a7=U();var a9=ab();return a8&&a7&&a9}function aT(){return !!(aq.pinchStatus||aq.pinchIn||aq.pinchOut)}function M(){return !!(a4()&&aT())}function aR(){var ba=aw();var bc=aj();var a9=aK();var a7=U();var a8=a6();var bb=!a8&&a7&&a9&&bc&&ba;return bb}function S(){return !!(aq.swipe||aq.swipeStatus||aq.swipeLeft||aq.swipeRight||aq.swipeUp||aq.swipeDown)}function F(){return !!(aR()&&S())}function aK(){return((T===aq.fingers||aq.fingers===h)||!a)}function U(){return aM[0].end.x!==0}function a2(){return !!(aq.tap)}function V(){return !!(aq.doubleTap)}function aQ(){return !!(aq.longTap)}function N(){if(K==null){return false}var a7=ao();return(V()&&((a7-K)<=aq.doubleTapThreshold))}function E(){return N()}function at(){return((T===1||!a)&&(isNaN(ac)||ac===0))}function aW(){return((Y>aq.longTapThreshold)&&(ac<q))}function ad(){return !!(at()&&a2())}function aC(){return !!(N()&&V())}function al(){return !!(aW()&&aQ())}function C(){a1=ao();aa=event.touches.length+1}function O(){a1=0;aa=0}function ai(){var a7=false;if(a1){var a8=ao()-a1;if(a8<=aq.fingerReleaseThreshold){a7=true}}return a7}function ax(){return !!(aN.data(y+"_intouch")===true)}function ak(a7){if(a7===true){aN.bind(au,aZ);aN.bind(R,I);if(P){aN.bind(P,H)}}else{aN.unbind(au,aZ,false);aN.unbind(R,I,false);if(P){aN.unbind(P,H,false)}}aN.data(y+"_intouch",a7===true)}function ae(a8,a7){var a9=a7.identifier!==undefined?a7.identifier:0;aM[a8].identifier=a9;aM[a8].start.x=aM[a8].end.x=a7.pageX||a7.clientX;aM[a8].start.y=aM[a8].end.y=a7.pageY||a7.clientY;return aM[a8]}function aD(a7){var a9=a7.identifier!==undefined?a7.identifier:0;var a8=Z(a9);a8.end.x=a7.pageX||a7.clientX;a8.end.y=a7.pageY||a7.clientY;return a8}function Z(a8){for(var a7=0;a7<aM.length;a7++){if(aM[a7].identifier==a8){return aM[a7]}}}function af(){var a7=[];for(var a8=0;a8<=5;a8++){a7.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return a7}function aE(a7,a8){a8=Math.max(a8,aP(a7));J[a7].distance=a8}function aP(a7){if(J[a7]){return J[a7].distance}return undefined}function X(){var a7={};a7[o]=ar(o);a7[n]=ar(n);a7[d]=ar(d);a7[v]=ar(v);return a7}function ar(a7){return{direction:a7,distance:0}}function aI(){return aY-Q}function ap(ba,a9){var a8=Math.abs(ba.x-a9.x);var a7=Math.abs(ba.y-a9.y);return Math.round(Math.sqrt(a8*a8+a7*a7))}function a3(a7,a8){var a9=(a8/a7)*1;return a9.toFixed(2)}function an(){if(D<1){return w}else{return c}}function aO(a8,a7){return Math.round(Math.sqrt(Math.pow(a7.x-a8.x,2)+Math.pow(a7.y-a8.y,2)))}function aA(ba,a8){var a7=ba.x-a8.x;var bc=a8.y-ba.y;var a9=Math.atan2(bc,a7);var bb=Math.round(a9*180/Math.PI);if(bb<0){bb=360-Math.abs(bb)}return bb}function aH(a8,a7){var a9=aA(a8,a7);if((a9<=45)&&(a9>=0)){return o}else{if((a9<=360)&&(a9>=315)){return o}else{if((a9>=135)&&(a9<=225)){return n}else{if((a9>45)&&(a9<135)){return v}else{return d}}}}}function ao(){var a7=new Date();return a7.getTime()}function aU(a7){a7=e(a7);var a9=a7.offset();var a8={left:a9.left,right:a9.left+a7.outerWidth(),top:a9.top,bottom:a9.top+a7.outerHeight()};return a8}function B(a7,a8){return(a7.x>a8.left&&a7.x<a8.right&&a7.y>a8.top&&a7.y<a8.bottom)}}}));

/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */

(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):c(jQuery)})(function(c){function n(b){b=f.json?JSON.stringify(b):String(b);return f.raw?b:encodeURIComponent(b)}function m(b,e){var a;if(f.raw)a=b;else a:{var d=b;0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{d=decodeURIComponent(d.replace(l," "));a=f.json?JSON.parse(d):d;break a}catch(g){}a=void 0}return c.isFunction(e)?e(a):a}var l=/\+/g,f=c.cookie=function(b,e,a){if(void 0!==e&&!c.isFunction(e)){a= c.extend({},f.defaults,a);if("number"===typeof a.expires){var d=a.expires,g=a.expires=new Date;g.setDate(g.getDate()+d)}return document.cookie=[f.raw?b:encodeURIComponent(b),"=",n(e),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=b?void 0:{};for(var d=document.cookie?document.cookie.split("; "):[],g=0,l=d.length;g<l;g++){var h=d[g].split("="),k;k=h.shift();k=f.raw?k:decodeURIComponent(k);h=h.join("="); if(b&&b===k){a=m(h,e);break}b||void 0===(h=m(h))||(a[k]=h)}return a};f.defaults={};c.removeCookie=function(b,e){if(void 0===c.cookie(b))return!1;c.cookie(b,"",c.extend({},e,{expires:-1}));return!c.cookie(b)}});

/* ALL THE SCRIPTS BELOW THIS LINE ARE MADE BY RUBENBRISTIAN.COM AND ARE LICENSED UNDER ENVATO'S REGULAR/EXTENDED LICENSE --- REDISTRIBUTION IS NOT ALLOWED! */

(function(a){a(document).ready(function(){function I(){if("null"==T||"closed"==T)if(T="opened",a.cookie("sidebar_status","s-opened",{path:"/"}),l.addClass("opened"),l.removeClass("closed"),TweenMax.to(M[0],Z,{left:0,ease:$,overwrite:"all"}),TweenMax.to(ia[0],Z,{opacity:0,ease:$,overwrite:"all",onCompleteScope:ia,onComplete:function(){a(this).css("display","none")}}),t.hasClass("no-csstransforms")||c.hasClass("sidebar-no3d")||TweenMax.to(ya[0],Z,{rotationY:0,transformOrigin:"right top",ease:$,overwrite:"all"}), "paddingLeft"==za)TweenMax.to([A[0],U],Z,{paddingLeft:300,ease:$,overwrite:"all"});else{var b=null;"modal"==g&&"fixed"==a("#portfolio-detail").css("position")?b=a("#portfolio-detail"):0<a(".is-other.on").children("*").length&&(b=a(".is-other.on").children("*"));TweenMax.to([A[0],U,b,ja],Z,{left:300,ease:$,overwrite:"all"})}}function N(){if("null"==T||"opened"==T)if(T="closed",a.cookie("sidebar_status","s-closed",{path:"/"}),l.removeClass("opened"),l.addClass("closed"),TweenMax.to(M[0],aa,{left:-260, ease:ba,overwrite:"all"}),ia.css("display","block"),TweenMax.to(ia[0],aa,{opacity:0.5,ease:ba,overwrite:"all",onComplete:function(){}}),t.hasClass("no-csstransforms")||c.hasClass("sidebar-no3d")||TweenMax.to(ya[0],aa,{rotationY:-80,transformOrigin:"right top",ease:ba,overwrite:"all"}),"paddingLeft"==za)TweenMax.to([A[0],U,b],aa,{paddingLeft:40,ease:ba,overwrite:"all"});else{var b=null;"modal"==g&&"fixed"==a("#portfolio-detail").css("position")?b=a("#portfolio-detail"):0<a(".is-other.on").children("*").length&& (b=a(".is-other.on").children("*"));TweenMax.to([A[0],U,b,ja],aa,{left:40,ease:ba,overwrite:"all"})}}function La(){"block"==kb.css("display")&&1400!=u?(u=1400,D()):"block"==lb.css("display")&&1200!=u?(u=1200,D()):"block"==mb.css("display")&&768!=u&&(u=768,D());"block"==Ma.css("display")&&620!=E?(E=620,D()):"none"==Ma.css("display")&&620==E&&(E=0,D());"block"==Na.css("display")&&1024!=F?(F=1024,D()):"none"==Na.css("display")&&1024==F&&(F=0,D())}function D(){!(1024==F&&y||768==u)||s||J?!(1024!=F&&y|| 768!=u)||s||J||(K&&K.removeClass("disable-parallax"),v&&v.removeClass("disable-parallax"),O&&O.removeClass("disable-parallax"),a(".horizontal-gallery").removeClass("disable-parallax")):(K&&K.addClass("disable-parallax"),v&&v.addClass("disable-parallax"),O&&O.addClass("disable-parallax"),a(".horizontal-gallery").addClass("disable-parallax"));620==E&&"vertical"==g?a("#portfolio-detail").css("position","relative"):620!=E&&"vertical"==g&&a("#portfolio-detail").css("position","fixed");1024==F&&y?(w=0, ka(!1)):1024!=F&&y&&(w=260,ka(!1))}function ka(b){var d=a(".project-modal").data("project-width"),e=a(".project-modal").data("slider-width"),la=a(".project-modal").data("project-height"),c="",c=y?"@media all and (min-width: "+(d+w+100)+"px) { .swiper-container { width: "+e+"px !important; height:"+la+"px !important; } .project-modal { margin-left: "+-(d-w)/2+"px !important; } } @media all and (max-height:"+(la+100)+"px) and (min-width: "+(d-w+100)+"px) { #portfolio-detail { position: relative !important; padding: 50px 0 !important; } .project-modal { top: 0 !important; margin-top: 0 !important; margin-left: "+ -d/2+"px !important; } } @media all and (max-width: "+(d+w+100)+"px) { #portfolio-detail { position: relative !important; padding: 50px 0; } .project-modal { height: auto !important; width: "+e+"px !important; margin-left: -"+e/2+"px !important; margin-top: 0 !important; top: 0 !important; } .project-modal .content { padding-right: 0 !important; padding-bottom:30px !important; width: 100% !important; height: auto; overflow: visible; float: left; top: -15px; } .project-modal .nav { position: relative; float: right; top: 45px; left: auto; right: 30px; } .project-modal h1 { width:80%; } } @media all and (max-width: "+ (e+w+100)+"px) { #portfolio-detail { padding:0; } .project-modal { width: 100% !important; margin-left: 0 !important; left: 0 !important; float: left; } .modal.single { width: 100% !important; height: auto !important; } .modal.swiper-container { width: 100% !important; } .modal.swiper-container img, .modal.single img { width: 100% !important; height: auto !important; top: 0 !important; left: 0 !important; } #modal-test-query { display: block; } }":"@media all and (min-width: "+(d+100)+"px) { .swiper-container { width: "+ e+"px !important; height:"+la+"px !important; } } @media all and (max-height:"+(la+100)+"px) and (min-width: "+(d+100)+"px) { #portfolio-detail { position: relative !important; padding: 50px 0 !important; } .project-modal { top: 0 !important; margin-top: 0 !important; margin-left: "+-d/2+"px !important; } } @media all and (max-width: "+(d+100)+"px) { #portfolio-detail { position: relative !important; padding: 50px 0; } .project-modal { height: auto !important; width: "+e+"px !important; margin-left: -"+ e/2+"px !important; margin-top: 0 !important; top: 0 !important; } .project-modal .content { padding-right: 0 !important; padding-bottom:30px !important; width: 100% !important; height: auto; overflow: visible; float: left; top: -15px; } .project-modal .nav { position: relative; float: right; top: 45px; left: auto; right: 30px; } .project-modal h1 { width:80%; } } @media all and (max-width: "+(e+100)+"px) { #portfolio-detail { padding:0; } .project-modal { width: 100% !important; margin-left: 0 !important; left: 0 !important; float: left; } .modal.single { width: 100% !important; height: auto !important; } .modal.swiper-container { width: 100% !important; } .modal.swiper-container img, .modal.single img { width: 100% !important; height: auto !important; top: 0 !important; left: 0 !important; } #modal-test-query { display: block; } }"; b&&(c="");Oa?(Oa=!1,a("head").append('<style id="modal-query" type="text/css">'+c+"</style>")):a("#modal-query").html(c)}function ma(){s&&a(".me-buttons.nav, .me-buttons.btns-2.nav, .me-buttons.share").each(function(){var b=a(this);b.find("a");b.on("touchstart",function(a){b.hasClass("touched")||(b.addClass("touched"),b.hasClass("share")&&(b.find(".front").css("opacity","0 !important"),b.find(".back").css("opacity","1 !important")),a.preventDefault())})})}function P(){var b=A.width();a(window).height(); var b=Math.floor(b/Math.ceil(b/Pa)),d=Math.floor(b/Qa[0]*Qa[1]);m.addClass("disableResize").width(b).height(d);C.hasClass("no-3deffects")||t.hasClass("ie10")||(Ra.css(V,"translateZ("+-d/2+"px)"),Sa.css(V,"rotateY(0deg) translateZ("+d/2+"px)"),Ta.css(V,"rotateX(-90deg) translateZ("+d/2+"px)"));c.hasClass("is-portfolio")&&x.hasClass("isotope")&&x.isotope()}function na(b,d){void 0==d&&(oa.removeClass("selected"),oa=b.parent(),oa.addClass("selected"));if(b.hasClass("all-filter"))W=null,document.location.hash= "",m.each(function(){a(this).data("custom-filter","0").animate({opacity:1}).removeClass("isotope-hidden")}),x.isotope("updateSortData",m),x.isotope({sortBy:"original-order"});else{var e=b.data("filter");m.removeClass("disableResize");W=e;document.location.hash=e;m.each(function(){a(this).hasClass(e)?(a(this).data("custom-filter","0"),TweenMax.to(a(this)[0],0.3,{opacity:1,overwrite:"all",onCompleteScope:a(this),onComplete:function(){a(this).removeClass("isotope-hidden")}})):(a(this).data("custom-filter", "1"),TweenMax.to(a(this)[0],0.3,{opacity:0.1,overwrite:"all",onCompleteScope:a(this),onComplete:function(){a(this).addClass("isotope-hidden")}}))});x.isotope("updateSortData",m);x.isotope({sortBy:"byFilter"})}}function nb(){var b=document.location.hash.replace("#",""),d=!1;L.find("a.filter").each(function(){a(this).data("filter")==b&&(Aa=a(this),d=!0)});return d}function ob(b){x.css("top",-a(window).scrollTop());C.addClass("opened");c.addClass("opened");g=b.data("type");setTimeout(function(){l.fadeIn(150); Ba(b)},Q("modal"==g?0.1:0,0.15,"out"));R&&(a("#content").append('<section id="portfolio-detail"></section>'),null!=X&&X.stop().fadeOut(150),R=!1)}function Ba(b){Ca||(Ca=!0,a.ajax({url:b.prop("href"),dataType:"html",success:function(b){Ca=!1;b.match(/<title>(.*?)<\/title>/);a("#portfolio-detail").append(a(b).find("article"));f=a("article.project");q=0<a(".swiper-container").length?a(".swiper-container"):0<a(".project-modal").length?a(".project-modal"):null;pa=0<f.find(".gallery-holder").length?f.find(".gallery-holder"): null;Da=a(".project-horizontal .head");Y=a("#project-content");a(window).off(".removeLater");Ua();P();"enabled"==themeObjects.gAnalytics&&ga("send","pageview",{page:document.location.href,title:document.title})}}),History.pushState({projectType:b.data("type")},b.data("title"),b.prop("href").replace(document.location.protocol+"//"+document.location.hostname,"")))}function Va(b){var d=a(this);ca&&a("#modal-dummy-background").animate({opacity:0},150);f.stop().fadeOut(400,function(){"modal"==d.data("type")&& "modal"!=g?Q(0.1,0.1,"out"):"modal"!=d.data("type")&&"modal"==g&&Q(0,0.1,"out");l.delay(50).fadeIn(200);a("#portfolio-detail").html("");a(window).off(".removeLater");g=d.data("type");qa=!1;Ba(d)});b.preventDefault()}function Ea(b){f.stop().fadeOut(400,function(){Q(1,0.3,"in");C.removeClass("opened");c.removeClass("opened");a(window).scrollTop(x.css("top")).css("top",0);a("#portfolio").css("top",0);a("#portfolio-detail").remove();g=Y=Da=pa=q=f=null;R=!0;a(window).off(".removeLater");null!=X&&X.stop().fadeIn(150); l.stop().fadeOut(150)});qa=!1;History.pushState({projectType:"original"},pb,qb);b&&b.preventDefault()}function rb(){768!=u&&(q.css("top",-Math.round(a(window).scrollTop()/2)),Da.css("marginTop",Math.min(30,a(window).scrollTop()/8)))}function Wa(){q.height(a(window).height()-ra);pa.css({height:a(window).height()-ra,top:0}).find(".swiper-nav").css("bottom",0);y&&q.width(a(window).width()-w)}function Xa(){"horizontal"==g&&Wa();q.find("img").each(function(){var b=a(this),d=Math.min(b.data("max-height"), q.height()-Ya),e=Math.min(b.data("max-width"),q.width()-100),c=b.height(),r=b.width(),h=Math.max(r/c,c/r),p=0,n=0;r>c?e/h>d?(p=d,n=d*h):(n=e,p=e/h):d/h>e?(n=e,p=e*h):(p=d,n=d/h);b.css({width:Math.ceil(n),height:Math.ceil(p),top:Math.round((q.height()-p)/2),left:Math.round((q.width()-n)/2)})})}function Za(){"horizontal"==g&&Wa();q.find("img").each(function(){var b=a(this),d=q.height(),e=q.width(),c=b.height(),r=b.width(),h=Math.max(r/c,c/r),p=0,n=0;r>c?e/h<d?(p=d,n=d*h):(n=e,p=e/h):d/h<e?(n=e,p=e* h):(p=d,n=d/h);b.css({width:Math.ceil(n),height:Math.ceil(p),top:Math.round((d-p)/2),left:Math.round((e-n)/2)})})}function sa(){q.height(q.find("img").height())}function Q(b,d,e){var c=0,r=!1,h=b,p=e;null!=W&&"in"==e&&(r=!0,document.location.hash=W);m.each(function(){var n=0.15+Math.random()*d,f=0.15+Math.random()*d;c<n+f&&(c=n+f);r&&a(this).hasClass(W)?(h=themeObjects.folioOpacity,p="in"):r&&!a(this).hasClass(W)?(h=0.1,p="out"):(h=b,p=e);TweenMax.to(a(this)[0],f,{opacity:h,delay:n,overwrite:"all", onCompleteScope:{$item:a(this),dir3:p},onComplete:function(){"out"==this.dir3?this.$item.addClass("isotope-hidden"):this.$item.removeClass("isotope-hidden")}})});return 1E3*c}function $a(){Y.mCustomScrollbar({scrollInertia:400,theme:"me-2",autoDraggerLength:!1,autoHideScrollbar:!0,mouseWheelPixels:100,advanced:{updateOnContentResize:!0}})}function Fa(){a("audio,video").mediaelementplayer({alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,enableKeyboard:!1, pluginPath:themeObjects.base+"/js/mediaelement/",success:function(){a(window).trigger("resize")}});a(".video-embedded").append('<div class="mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').find(".mejs-overlay-button").click(function(b){var d=a(this).closest(".video-embedded");if(!d.hasClass("loading")){var e=d.data("href"),c=d.data("id");d.append('<div class="css-loader"></div><a href="#" class="close-iframe close-btn-special"></a><iframe id="video-frame-'+c+'" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+ (t.hasClass("ie")?' allowtransparency="true"':"")+"></iframe>").addClass("loading").find(".close-iframe").click(function(){a(this).closest(".video-embedded").removeClass("loading").find("iframe, .close-iframe").remove()});a("#video-frame-"+c).prop("src",e).load(function(){a(this).animate({opacity:1},200).siblings(".css-loader").remove()})}b.preventDefault()})}function ab(b,d){var e=d?0.5:0;if(a(b.container).hasClass("centered")){for(var c=250,r=0;r<b.slides.length;r++){var h=a(b.slides[r]).find("img"); h.data({"max-width":h.attr("width"),"max-height":h.attr("height")})}a(".project").hasClass("type-gallery")&&(Ya=140);a(window).on("resize.removeLater",Xa);Xa()}else c=0,a(window).on("resize.removeLater",Za),Za();a(b.slides).find("img").delay(c+1E3*e).animate({opacity:1},300);if("horizontal"==g)if(q.css("position","fixed"),a(window).trigger("resize"),q.css("left",40),TweenMax.to(f[0],0.9,{height:a(window).height(),opacity:1,ease:"Quart.easeOut",delay:e,onComplete:function(){f.css("height","auto")}}), f.hasClass("project-gallery"))TweenMax.to(f.find(".nav")[0],0.3,{opacity:1,delay:e+0.5}),f.hasClass("captions-show")&&(a("body").append('<span class="gallery-caption-dummy"></span>'),S=a(".gallery-caption"),da=a(".gallery-caption-dummy"),da.html(b.activeSlide().data("title")),S.css("marginRight",1).append("<h4>"+b.activeSlide().data("title")+"</h4>").css("width",da.outerWidth()),S=S.children("h4"),ja=a(".gallery-meta"),a(".gallery-meta").stop().delay(1E3*e+500).animate({opacity:1},200));else if(TweenMax.to([Y[0], f.find(".nav")[0]],0.3,{opacity:1,delay:e+0.5}),s||J)a(".horizontal-gallery").addClass("disable-parallax");else a(window).on("scroll.removeLater",rb);else"modal"==g&&(TweenMax.to(f[0],0.8,{left:"50%",opacity:1,delay:e,ease:"Quart.easeOut"}),a(window).on("resize.removeLater",sa),sa());d?d():l.stop().fadeOut(150);null!=ta&&ta.delay(1E3*e+500).animate({opacity:1},200)}function Ua(b){"vertical"==g&&(a("#portfolio-detail").css("position","fixed"),s&&620==E||a(".vertical-gallery").mCustomScrollbar({scrollInertia:500, theme:"me",autoDraggerLength:!1,autoHideScrollbar:!0,mouseWheelPixels:500,advanced:{updateOnContentResize:!0,autoScrollOnFocus:!1}}),setTimeout(function(){TweenMax.to(f[0],0.8,{width:"100%",ease:"Quart.easeOut",delay:0.2,overwrite:"all",onComplete:function(){a(".vertical-gallery").find("img").each(function(){var b=a(this);b[0].complete||0<b[0].naturalWidth?b.closest("li").animate({opacity:1},200):b.load(function(){b.closest("li").animate({opacity:1},200)})}).end().find("video").each(function(){a(this).closest("li").delay(150).animate({opacity:1}, 200)});U=a(".project-vertical");s&&620==E||$a();620==E&&(D(),a(window).trigger("resize"),a(".vertical-gallery li").css("marginBottom",49),a(".nav.me-buttons").css("marginTop",29))}});TweenMax.to(Y[0],0.3,{opacity:1,delay:0.9,onComplete:function(){a(window).trigger("resize")}});l.stop().fadeOut(150);Fa();ma();b&&b();y&&a(window).on("resize.removeLater",function(){a("#portfolio-detail").width(a(window).width()-w)}).trigger("resize")},1500));"modal"==g?($a(),ka(!1),a("#portfolio-detail").css({position:"fixed", left:40,marginLeft:-40}),ca&&a("#modal-dummy-background").animate({opacity:1},300),q.append('<div id="modal-test-query"></div>'),"true"==themeObjects.modalCloseClick&&0>=a("#modal-click").length&&(a("#portfolio-detail").append('<div id="modal-click"></div>'),a("#modal-click").on("click",function(){a(".nav").find(".btn-close").trigger("click")}))):ka(!0);"horizontal"==g&&(q.height(a(window).height()-ra),pa.height(a(window).height()-ra),U=q,a("#portfolio-detail").css("position","relative"));if("modal"== g&&!a(".modal").hasClass("single")||"horizontal"==g){var d=a(".swiper-container").find("img")[0];q.swiper({mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0,centeredSlides:!0,useCSS3Transforms:!0,resizeReInit:!0,updateOnImagesReady:!1,createPagination:!0,noSwiping:!0,noSwipingClass:"no-swipe",autoplay:0,speed:300,resistance:!1,keyboardControl:!0,onSwiperCreated:function(e){var c="horizontal"==g?f.hasClass("project-gallery")?f:Y:a(e.container);1<e.slides.length-2?c.append('<ul class="swiper-nav" style="opacity:0"><li><a class="swiper-no"><span class="cur">1</span><span class="tot">'+ (e.slides.length-2)+'</span></a></li><li><a href="#" class="swiper-prev"></a></li><li><a href="#" class="swiper-next"></a></li></ul>'):(c.append('<ul style="pointer-events: none" class="swiper-nav single-nav" style="opacity:0"><li><a class="swiper-no"><span class="cur">1</span><span class="tot">'+(e.slides.length-2)+"</span></a></li></ul>"),a(e.container).css("pointer-events","none"));c.find(".swiper-next").on("click",function(a){e.swipeNext();a.preventDefault()});c.find(".swiper-prev").on("click", function(a){e.swipePrev();a.preventDefault()});ta=a(".swiper-nav");Fa();ma();d.complete||0<d.naturalWidth?ab(e,b):(t.hasClass("ie10")&&a(d).attr("src",a(d).attr("src")),a(d).on("load",function(){ab(e,b)}))},onTouchStart:function(b){a(b.container).addClass("grabbing")},onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeStart:function(a){ta.find(".cur").text(a.activeLoopIndex+1)},onSlideChangeEnd:function(b){f.hasClass("captions-show")&&(da.html(b.activeSlide().data("title")), TweenMax.to(S[0],0.1,{opacity:0,overwrite:"all",onComplete:function(){TweenMax.to(S.parent()[0],0.1,{width:da.outerWidth(),overwrite:"all",onComplete:function(){S.html(b.activeSlide().data("title")).animate({opacity:1},100)}})}}));a(b.slides).eq(b.previousIndex).find(".video-hosted");0<a(b.slides).eq(b.previousIndex).find(".video-embedded").length&&a(b.slides).eq(b.previousIndex).find(".video-embedded").removeClass("loading").find("iframe, close-iframe").remove()}})}else"modal"==g&&a(".modal").hasClass("single")&& (Fa(),ma(),a(".modal").imagesLoaded(function(){TweenMax.to(f[0],0.8,{left:"50%",opacity:1,ease:"Quart.easeOut"});a(window).on("resize.removeLater",sa);sa();l.stop().fadeOut(150);b&&b()}));f.find(".btn-prev").on("click",Va);f.find(".btn-next").on("click",Va);if(c.hasClass("single"))f.find(".btn-close").on("click",function(){document.location.href=a(this).prop("href")});else f.find(".btn-close").on("click",Ea);bb()}function cb(){Ga==db&&(m.each(function(){TweenMax.to(a(this)[0],0.2,{opacity:1,delay:0.2+ 0.1*a(this).index(),onCompleteScope:a(this),onComplete:function(){a(this).removeClass("isotope-hidden")}})}),l.fadeOut(150))}function eb(){var b,d=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}];b={zoom:G.data("zoom"),center:new google.maps.LatLng(G.data("map-lat"),G.data("map-long")),streetViewControl:!0,scrollwheel:!1,panControl:!0,mapTypeControl:!1,overviewMapControl:!1,zoomControl:!0,draggable:s?!1:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE},mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP, "krownMap"]}};b=new google.maps.Map(document.getElementById("insert-map"),b);"d-true"==G.data("greyscale")&&(d=new google.maps.StyledMapType(d,{name:"Grayscale"}),b.mapTypes.set("krownMap",d),b.setMapTypeId("krownMap"));"d-true"==G.data("marker")&&(d=new google.maps.LatLng(G.data("map-lat"),G.data("map-long")),new google.maps.Marker({position:d,map:b,icon:G.data("marker-img")}));setTimeout(function(){z.css({backgroundImage:"none",height:500});O.delay(250).animate({opacity:1},300);G.animate({height:500}, 300,function(){z.addClass("on");if(!s&&!J)a(window).on("scroll",function(){O.css("top",-Math.round(a(window).scrollTop()/2))});(s||J||768==u||1024==F&&y)&&O.addClass("disable-parallax")})},1E3)}function ua(){s||J?K.addClass("disable-parallax"):(a(window).on("scroll",function(){768!=u?(K.css("top",-Math.round(a(window).scrollTop()/2)),B.hasClass("w-custom-header")&&a("h1").css("opacity",(300-a(window).scrollTop())/300)):K.addClass("disable-parallax")}),D(),z.addClass("on"))}function fb(){a(window).on("resize", function(){z.height(k.outerHeight())})}function Ha(){ua();k.css("opacity",1);var a=k.outerHeight();k.css("opacity",0);z.stop().animate({height:a},300).css("backgroundImage","none");k.delay(200).animate({opacity:1},300);fb()}function gb(){k[0].complete?Ha():k.load(function(){Ha()})}function hb(){k.data("ratio",k.width()/k.height());a(window).on("resize",function(){k.css({width:A.width(),height:A.width()/k.data("ratio")})}).trigger("resize")}function sb(){a(window).on("resize",function(){k.css("width", A.width());k.find(".mejs-time-rail").css("width",A.width()-240)}).trigger("resize")}function ib(b,d){a("audio,video").each(function(){a(this).mediaelementplayer({alwaysShowControls:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,enableKeyboard:!1,autosizeProgress:d,pluginPath:themeObjects.base+"/js/mediaelement/",success:b}).addClass("already-done")})}function bb(){a("p:empty").remove();a(".page-content, .blog-grid, .blog-style-fixed .post-format-content").find("audio,video").each(function(){a(this).mediaelementplayer({alwaysShowControls:!0, iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,enableKeyboard:!1,pluginPath:themeObjects.base+"/js/mediaelement/"})});0<a(".krown-gallery").length&&a(".krown-gallery").each(function(){a(this).swiper({mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0,centeredSlides:!0,useCSS3Transforms:!0,resizeReInit:!1,updateOnImagesReady:!0,createPagination:!1,noSwiping:!0,noSwipingClass:"no-swipe",autoplay:0,speed:300,resistance:!1,keyboardControl:!1,onFirstInit:function(b){1< b.slides.length&&a(b.container).append('<ul class="swiper-nav"><li><a class="swiper-no"><span class="cur">1</span><span class="tot">'+(b.slides.length-2)+'</span></a></li><li><a href="#" class="swiper-prev"></a></li><li><a href="#" class="swiper-next"></a></li></ul>');a(b.container).find(".swiper-next").on("click",function(a){b.swipeNext();a.preventDefault()});a(b.container).find(".swiper-prev").on("click",function(a){b.swipePrev();a.preventDefault()})},onImagesReady:function(b){a(b.container).find("div").css("height", a(b.container).find("img").height());a(b.slides).find("img").delay(200).animate({opacity:1},300);if(c.hasClass("blog-style-fixed")&&c.hasClass("single"))a(window).on("resize",function(){a(b.container).height(a(b.container).find("img").height())})},onTouchStart:function(b){a(b.container).addClass("grabbing")},onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeStart:function(b){a(b.container).find(".cur").text(b.activeLoopIndex+1)}})});a(".krown-accordion").each(function(){var b= a(this).hasClass("toggle")?!0:!1,d=a(this).children("section"),e="-1"==a(this).data("opened")?null:d.eq(parseInt(a(this).data("opened")));null!=e&&(e.addClass("opened"),e.children("div").slideDown(0));a(this).children("section").children("h5").click(function(){var d=a(this).parent();b||null==e||(e.removeClass("opened"),e.children("div").stop().slideUp(300));d.hasClass("opened")&&b?(d.removeClass("opened"),d.children("div").stop().slideUp(300)):d.hasClass("opened")||(e=d,d.addClass("opened"),d.children("div").stop().slideDown(300))})}); a(".krown-tabs").each(function(){var b=a(this).children(".titles").children("li"),d=a(this).children(".contents").children("div"),e=b.eq(0),c=d.eq(0);e.addClass("opened");b.find("a").prop("href","#").off("click");b.click(function(b){e.removeClass("opened");e=a(this);e.addClass("opened");c.stop().slideUp(200);c=d.eq(a(this).index());c.stop().delay(200).slideDown(200);b.preventDefault()})});a("img.alignleft, img.alignright, img.aligncenter").parent("a").each(function(){a(this).attr("class","fancybox fancybox-thumb "+ a(this).children("img").attr("class"))});(0<a(".fancybox").length||0<a('div[id*="attachment"]').length)&&a('.fancybox, div[id*="attachment"] > a').fancybox({padding:0,margin:50,aspectRatio:!0,scrolling:"no",mouseWheel:!1,openMethod:"zoomIn",closeMethod:"zoomOut",nextEasing:"easeInQuad",prevEasing:"easeInQuad"}).append("<span></span>")}function tb(){m.off("mouseenter").off("mouseleave");t.hasClass("no-csstransforms")||C.hasClass("no-3deffects")||t.hasClass("ie10")?(m.on("mouseenter",function(){var b= a(this);setTimeout(function(){b.addClass("hovered")},500);a(this).hasClass("isotope-hidden")||(a(this).find(".folio-cube").stop().animate({opacity:1},300,"easeInOutQuad"),a(this).find(".bottom").stop().animate({opacity:0.95},300,"easeInOutQuad"),a(this).find("img").stop().animate({width:"130%",height:"130%",left:"-15%",top:"-15%"},200,"easeInOutQuad"),a(this).find(".folio-caption").stop().animate({paddingTop:0},200,"easeInOutQuad"))}).on("mouseleave",function(){a(this).removeClass("hovered");a(this).find(".folio-cube").stop().animate({opacity:themeObjects.folioOpacity}, 300,"easeInOutQuad");a(this).find(".bottom").stop().animate({opacity:0},300);a(this).find("img").stop().animate({width:"100%",height:"100%",left:"0",top:"0"},200,"easeInOutQuad");a(this).find(".folio-caption").stop().animate({paddingTop:50},200,"easeInOutQuad")}),Ra.css(V,""),Sa.css(V,""),Ta.css(V,""),m.find(".bottom").css("opacity",0)):(m.on("mouseenter",function(){var b=a(this);setTimeout(function(){b.addClass("hovered")},500);a(this).hasClass("isotope-hidden")||a(this).find(".folio-cube").stop().animate({rotationX:90, z:Math.ceil(-a(this).height()/2),opacity:1},300,"easeInOutQuad")}).on("mouseleave",function(){a(this).removeClass("hovered");a(this).find(".folio-cube").stop().animate({rotationX:0,z:Math.ceil(-a(this).height()/2),opacity:themeObjects.folioOpacity},300)}),P(),m.find(".bottom").css("opacity",1))}var t=a("html"),c=a("body"),M=a("#sidebar"),ya=M.children(".content").append('<span class="darken"></span>'),ia=ya.children(".darken"),A=a("#content"),l=a("#loader"),U=null,ja=c.hasClass("page-template-template-single-image-php")|| c.hasClass("page-template-template-single-video-php")||c.hasClass("page-template-template-slideshow-php")?a(".single-image-content").children("*"):null,za=c.hasClass("sidebar-hide")?"left":"paddingLeft",V=void 0!=window.webkitRequestAnimationFrame?"-webkit-transform":"transform",s="ontouchstart"in window,J="parallax-enabled"==themeObjects.disableParallax?!1:!0;!t.hasClass("ie9")&&!t.hasClass("ie8")&&0<navigator.userAgent.toUpperCase().indexOf("TRIDENT")&&t.addClass("ie10");a("html").removeClass("no-js"); var $="easeOutQuart",Z=0.6,ba="easeOutBack",aa=0.7,T=c.hasClass("s-opened-portfolio")?"opened":"closed";if(c.hasClass("sidebar-hide")&&!c.hasClass("is-portfolio"))a(window).on("mousemove",function(a){40>a.pageX?I():310<a.pageX&&N()});c.hasClass("is-portfolio")||M.find(".button").click(function(){c.hasClass("rooipn-opened")?(N(),c.removeClass("rooipn-opened"),H=!0):(I(),c.addClass("rooipn-opened"),H=!1);c.hasClass("is-portfolio")&&setTimeout(function(){P()},300)});var H=!1;if(s)M.swipe({swipe:function(a, d){!1==H&&"right"==d?(I(),c.addClass("rooipn-opened"),H=!0,a.preventDefault()):!0==H&&"left"==d&&(N(),c.removeClass("rooipn-opened"),H=!1,a.preventDefault())},treshold:0}).children(".button").on("touchstart",function(a){H?(N(),c.removeClass("rooipn-opened"),H=!1):(I(),c.addClass("rooipn-opened"),H=!0);a.preventDefault()});var L=a("#menu"),ea="";L.find("a").click(function(){s||a.cookie("sidebar_status","s-opened-portfolio",{path:"/"})});L.children(".top-menu").children("li").each(function(){var b= a(this).children("a");ea+='<option data-href="'+b.prop("href")+'"'+(b.hasClass("filter")?' data-filter="'+b.data("filter")+'"':"")+(b.hasClass("all-filter")?' class="all-filter"':"")+("blank"==b.prop("target")?' data-target="_blank"':"")+">"+b.text()+"</option>";a(this).hasClass("parent")&&a(this).hasClass("selected")&&a(this).find("ul").find("a").each(function(){ea+='<option data-href="'+a(this).prop("href")+'"'+(a(this).hasClass("filter")?' data-filter="'+a(this).data("filter")+'"':"")+(a(this).hasClass("all-filter")? ' class="all-filter"':"")+("blank"==a(this).prop("target")?' data-target="_blank"':"")+"> -- "+a(this).text()+"</option>"})});L.append('<div class="responsive-menu"><select><option>'+L.data("responsive-title")+"</option>"+ea+"</select></div>");a(".responsive-menu").children("select").on("change",function(){var b=a(this).find("option:selected").data("href"),d=a(this).find("option:selected").data("target");void 0!=a(this).find("option:selected").data("filter")?na(a(this).find("option:selected")):void 0== d?document.location.href=b:window.open(b,"_blank")});a(body).append('<div id="media-queries" class="appended-via-jquery"><div id="p-1400"></div><div id="p-1200"></div><div id="p-1024"></div><div id="p-768"></div><div id="p-620"></div></div>');var kb=a("#p-1400"),lb=a("#p-1200"),Na=a("#p-1024"),mb=a("#p-768"),Ma=a("#p-620"),u=0,F=0,E=0,y=c.hasClass("sidebar-show")?!0:!1,w=260;s&&c.removeClass("no-touch");a(window).on("resize",La);La();a("head").append('<style id="sidebar-query" type="text/css">@media all and (max-height: '+ (a("#logo").height()+a("#menu").height()+a("#sidebar-widgets").height()+40)+"px) { #sidebar-widgets { display: none; }</style>");var Oa=!0;ma();var Qa=a(".get-ratio").hasClass("ratio_16-9")?[16,9]:a(".get-ratio").hasClass("ratio_16-10")?[16,10]:a(".get-ratio").hasClass("ratio_1-1")?[1,1]:[4,3];if(c.hasClass("is-portfolio")){0<a(menu).find("li.selected.parent").length&&L.find("li.selected.parent").children("ul");var C=a("#portfolio-holder"),x=a(".folio-grid"),m=a(".folio-item"),Ra=a(".folio-cube"), Sa=a(".folio-cube").children("div.front"),Ta=a(".folio-cube").children("div.bottom"),X=0<a(".blog-grid-nav").length?a(".blog-grid-nav"):null,oa=L.find("a.all-filter").parent(),Aa=null,W=null,R=!0,qb=x.data("url"),pb=document.title,qa=!1,f=0<a(".project").length?a(".project"):null,pa=null!=f&&0<f.find(".gallery-holder").length?f.find(".gallery-holder"):null,q=0<a(".swiper-container").length?a(".swiper-container"):0<a(".project-modal").length?a(".project-modal"):null,Y=0<a("#project-content").length? a("#project-content"):null,ta=null,S=null,da=null,Da=a(".project-horizontal .head"),g=null!=f?f.data("type"):"",Ca=!1,Pa=parseInt(themeObjects.folioWidth),ra=a("article.project").hasClass("project-gallery")||c.hasClass("page-template-template-gallery-php")?0:190,za=c.hasClass("sidebar-default")||c.hasClass("sidebar-hide")?"left":"paddingLeft";a.cookie("sidebar_status","s-opened",{path:"/"});var ub=nb();!history.pushState&&0<document.location.href.indexOf("#")&&!ub&&(document.location.href=document.location.href.replace("#", ""));if(0<x.length){if(c.hasClass("s-opened-portfolio"))a(document).on("mousemove",function(a){40>a.pageX?I():310<a.pageX&&N()});x.imagesLoaded(function(){x.isotope({transformsEnabled:!1,animationEngine:"jquery",animationOptions:{duration:500,easing:"Quad.easeOut",queue:!1},getSortData:{byFilter:function(a){return parseInt(a.data("custom-filter"))}},resizable:!1,resizesContainer:!0});m.each(function(){TweenMax.to(a(this)[0],0.2,{opacity:1,delay:0.2+0.1*a(this).index(),onCompleteScope:a(this),onComplete:function(){a(this).removeClass("isotope-hidden")}}); a(this).find(".folio-cube").css("opacity",themeObjects.folioOpacity)});null!=Aa&&na(Aa);null!=X&&X.delay(300).fadeIn(200);l.fadeOut(150,function(){c.removeClass("thumbs-loading")});c.hasClass("sidebar-show")?I():c.hasClass("s-opened-portfolio")||M.animate({left:-260},200,function(){a(document).on("mousemove",function(a){40>a.pageX?I():310<a.pageX&&N()})})})}a(window).resize(function(){P()});P();if(t.hasClass("no-csstransforms")||C.hasClass("no-3deffects")||t.hasClass("ie10"))if(C.hasClass("alt"))m.on("mouseenter", function(){var b=a(this);setTimeout(function(){b.addClass("hovered")},500);a(this).hasClass("isotope-hidden")||(a(this).find(".folio-cube").stop().animate({opacity:1},300,"easeInOutQuad"),a(this).find(".bottom").stop().animate({height:"100%"},300,"easeInOutQuad"),TweenMax.to(a(this).find(".folio-caption")[0],0.2,{opacity:1,bottom:0,delay:0.1,overwrite:"all",ease:"easeInOutQuad"}),TweenMax.to(a(this).find(".plus")[0],0.15,{opacity:1,delay:0.25,overwrite:"all"}))}).on("mouseleave",function(){a(this).removeClass("hovered"); a(this).find(".folio-cube").stop().animate({opacity:themeObjects.folioOpacity},250,"easeInOutQuad");a(this).find(".bottom").stop().animate({height:"0"},250,"easeInOutQuad");TweenMax.to(a(this).find(".folio-caption")[0],0.15,{opacity:0,bottom:50,overwrite:"all",ease:"easeInOutQuad"});TweenMax.to(a(this).find(".plus")[0],0.1,{opacity:0,overwrite:"all"})}).find(".bottom").append('<span class="plus">+</span>');else m.on("mouseenter",function(){var b=a(this);setTimeout(function(){b.addClass("hovered")}, 500);a(this).hasClass("isotope-hidden")||(a(this).find(".folio-cube").stop().animate({opacity:1},300,"easeInOutQuad"),a(this).find(".bottom").stop().animate({opacity:0.95},300,"easeInOutQuad"),a(this).find("img").stop().animate({width:"130%",height:"130%",left:"-15%",top:"-15%"},200,"easeInOutQuad"),a(this).find(".folio-caption").stop().animate({paddingTop:0},200,"easeInOutQuad"))}).on("mouseleave",function(){a(this).removeClass("hovered");a(this).find(".folio-cube").stop().animate({opacity:themeObjects.folioOpacity}, 300,"easeInOutQuad");a(this).find(".bottom").stop().animate({opacity:0},300);a(this).find("img").stop().animate({width:"100%",height:"100%",left:"0",top:"0"},200,"easeInOutQuad");a(this).find(".folio-caption").stop().animate({paddingTop:50},200,"easeInOutQuad")});else m.on("mouseenter",function(){var b=a(this);setTimeout(function(){b.addClass("hovered")},500);a(this).hasClass("isotope-hidden")||a(this).find(".folio-cube").stop().animate({rotationX:90,z:Math.ceil(-a(this).height()/2),opacity:1},300, "easeInOutQuad")}).on("mouseleave",function(){a(this).removeClass("hovered");a(this).find(".folio-cube").stop().animate({rotationX:0,z:Math.ceil(-a(this).height()/2),opacity:themeObjects.folioOpacity},300)});var va=!1;m.click(function(b){!va||va&&a(this).hasClass("hovered")?("yes"!=a(this).data("custom-url")&&(ob(a(this)),b.preventDefault()),va=!1):b.preventDefault()});m.on("touchstart",function(a){va=!0});oa.addClass("selected")}L.find("a.filter").each(function(){a(this).click(function(b){var d= a(this);null!=f?(Ea(),setTimeout(function(){na(d)},500)):na(d);b.preventDefault()})});var Ya=40;History.Adapter.bind(window,"statechange",function(){if(qa&&history.pushState){var b=History.getState();if(void 0!=b.data)if("original"==b.data.projectType||"undefined"==b.data.projectType)ca?document.location.href=b.url:Ea();else{var d=0,e=0;R&&(x.css("top",-a(window).scrollTop()),C.addClass("opened"),c.addClass("opened"),g=b.data.projectType,l.fadeIn(150),d=Q("modal"==g?0.1:0,0.15,"out"),a("#content").append('<section id="portfolio-detail"></section>')); setTimeout(function(){ca&&a("#modal-dummy-background").animate({opacity:0},150);R?R=!1:(null!=f&&f.stop().fadeOut(400),e=400);setTimeout(function(){"modal"==b.data.projectType&&"modal"!=g?Q(0.1,0.1,"out"):"modal"!=b.data.projectType&&"modal"==g&&Q(0,0.1,"out");l.delay(50).fadeIn(200);a("#portfolio-detail").html("");a(window).off(".removeLater");g=b.data.projectType;Ba(a('<a href="'+b.url+'" data-type="'+b.data.projectType+'" data-title="'+b.title+'"></a>'))},e)},d)}}qa=!0});var ca=!1;c.hasClass("single")&& c.hasClass("is-portfolio")&&(ca=!0,a("#content").append('<div id="modal-dummy-background" style="background-image:url('+themeObjects.modalDummyBackground+')"></div>'),a(".project").wrap('<section id="portfolio-detail"></section>'),R=!1,Ua(function(){l.delay(150).fadeOut(150);c.hasClass("sidebar-show")||M.delay(300).animate({left:-260},200,function(){a(document).on("mousemove",function(a){40>a.pageX?I():310<a.pageX&&N()})})}));var Ga=0,db=0;c.hasClass("page-template-template-single-gallery-php")&& (m=a(".gallery-item"),C=a('<div class="no-3deffects"></div>'),Pa=340,db=m.length,a(window).on("resize",P),P(),m.each(function(){var b=a(this).find("img");b[0].complete||0<b[0].naturalWidth?(Ga++,cb()):(t.hasClass("ie10")&&b.attr("src",b.attr("src")),b.on("load",function(){Ga++;cb()}))}));if(c.hasClass("page-template-template-single-image-php")){var Ia=a(".single-image"),vb=a("#single-image-loader"),wb=a(".single-image-content");l.fadeIn(150);vb.append('<img style="display: none" src="'+Ia.data("background")+ '" />').find("img").load(function(){l.fadeOut(150);Ia.css("backgroundImage","url("+Ia.data("background")+")").animate({opacity:1},600,function(){var b=0;wb.children("div").each(function(){a(this).delay(500*b++).animate({top:0,opacity:1},600)})})})}if(c.hasClass("page-template-template-single-video-php")){l.fadeIn(150);var fa=null,wa=null;a("#video-obj").mediaelementplayer({alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,enableKeyboard:!0,pluginPath:themeObjects.base+ "/js/mediaelement/",success:function(b,d,c){fa=b;b.play();var f=c.width,r=c.height,h=Math.max(f/r,r/f);a(window).on("resize",function(){var b=a(window).width()-(y?w:0),c=a(window).height(),e=0,g=0;f>r?b/h<c?(e=c,g=c*h):(g=b,e=b/h):c/h<b?(g=b,e=b*h):(e=c,g=c/h);a(d).css({width:Math.ceil(g),height:Math.ceil(e),top:Math.round((c-e)/2),left:Math.round((a(window).width()-g+(y?w:0))/2)});null!=wa&&wa.css({width:Math.ceil(g),height:Math.ceil(e),top:Math.round((c-e)/2),left:Math.round((a(window).width()- g+(y?w:0))/2)})}).trigger("resize");l.delay(100).fadeOut(150);a(d).delay(300).animate({opacity:1},1E3,function(){fa.paused&&(wa=a(".mejs-poster"),wa.addClass("noplay"),a(".mejs-overlay-play").addClass("noplay"),a(window).trigger("resize"));a(".single-image").click(function(){fa.paused?fa.play():fa.pause()});var b=0;a(".single-image-content").children("div").each(function(){a(this).delay(500*b++).animate({top:0,opacity:1},600)})})}})}if(c.hasClass("page-template-template-slideshow-php")){var xa=a("#slideshow"); xa.swiper({mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0,centeredSlides:!0,useCSS3Transforms:!0,resizeReInit:!0,updateOnImagesReady:!0,createPagination:!1,noSwiping:!0,noSwipingClass:"no-swipe",autoplay:0,speed:800,resistance:!1,keyboardControl:!0,onImagesReady:function(b){a(b.slides).find("img").delay(100).animate({opacity:1},600);l.fadeOut(150);setTimeout(function(){var d=0;a(b.slides[b.activeIndex]).find(".single-image-content").children("span").each(function(){a(window).trigger("resize"); TweenMax.to(a(this)[0],0.6,{delay:0.5+0.5*d++,top:0,opacity:1,overwrite:"all"})})},500);a(window).on("resize",function(){xa.width(a(window).width()-(y?w:0));xa.find("img").each(function(){var b=a(this),c=a(window).height(),f=xa.width(),g=b.height(),h=b.width(),p=Math.max(h/g,g/h),n=0,k=0;h>g?f/p<c?(n=c,k=c*p):(k=f,n=f/p):c/p<f?(k=f,n=f*p):(n=c,k=c/p);b.css({width:Math.ceil(k),height:Math.ceil(n),top:Math.round((c-n)/2),left:Math.round((f-k)/2)})})}).trigger("resize");b.resizeFix();ja=a(".single-image-content").children("*")}, onTouchStart:function(b){a(b.container).addClass("grabbing")},onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeEnd:function(b){var d=0;a(b.slides[b.activeIndex]).find(".single-image-content").children("span").each(function(){TweenMax.to(a(this)[0],0.6,{delay:0.5*d++,top:0,opacity:1,overwrite:"all"})});a(b.slides[b.previousIndex]).find(".single-image-content").children("span").css({top:50,opacity:0})}})}if(c.hasClass("page-template-template-contact-php")&&a(".format-image").hasClass("a-map")){var G= a(".format-image.a-map"),O=a("#insert-map");window.addEventListener?window.addEventListener("load",eb,!1):window.onload=eb}if(c.hasClass("single-post")&&!c.hasClass("blog-style-fixed")||c.hasClass("page")&&a("article").hasClass("w-custom-header")){var B=a("article");if(B.hasClass("format-gallery")){var Ja=a(".post-format-gallery"),v=Ja.find(".krown-gallery"),ha=null;v.css("width",A.width());a(".post-format-gallery .krown-gallery").swiper({mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0, centeredSlides:!0,useCSS3Transforms:!0,resizeReInit:!0,updateOnImagesReady:!0,createPagination:!1,noSwiping:!0,noSwipingClass:"no-swipe",autoplay:0,speed:300,resistance:!1,keyboardControl:!0,onFirstInit:function(b){1<b.slides.length&&(a("#content").hasClass("right-sidebar")?a(".page-sidebar").append('<ul class="swiper-nav"><li><a class="swiper-no"><span class="cur">1</span><span class="tot">'+(b.slides.length-2)+'</span></a></li><li><a href="#" class="swiper-prev"></a></li><li><a href="#" class="swiper-next"></a></li></ul>'): a(".page-content").append('<ul class="swiper-nav"><li><a class="swiper-no"><span class="cur">1</span><span class="tot">'+(b.slides.length-2)+'</span></a></li><li><a href="#" class="swiper-prev"></a></li><li><a href="#" class="swiper-next"></a></li></ul>'));ha=a(".swiper-nav");ha.find(".swiper-next").on("click",function(a){b.swipeNext();a.preventDefault()});ha.find(".swiper-prev").on("click",function(a){b.swipePrev();a.preventDefault()})},onImagesReady:function(b){a(window).on("resize",function(){v.css({width:A.width(), height:v.find("img").height()});Ja.css("height",v.height());b.resizeFix()});if(!s&&!J)a(window).on("scroll",function(){768!=u&&v.stop().css("top",-Math.round(a(window).scrollTop()/2))});(s||J||768==u)&&v.addClass("disable-parallax");v.css("height",v.find("img").height());Ja.stop().animate({height:v.height()},300).css("backgroundImage","none");a(b.slides).find("img").delay(200).animate({opacity:1},300);ha.delay(300).fadeIn(200);setTimeout(function(){b.resizeFix()},10)},onTouchStart:function(b){a(b.container).addClass("grabbing")}, onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeStart:function(a){ha.find(".cur").text(a.activeLoopIndex+1)}})}else{var z=a(".is-other"),K=z.children("*"),k=null;B.hasClass("format-quote")||B.hasClass("format-link")?(k=a(".post-format-content").children("*"),fb(),ua(),z.css("height",30).stop().delay(100).animate({height:k.outerHeight()},250),k.stop().delay(150).animate({opacity:1},250)):B.hasClass("format-image")?(k=B.find(".post-format-image").find("img"),gb()):B.hasClass("format-video")? 1==B.find(".post-format-iframe").length?(k=B.find(".post-format-iframe").find("iframe"),gb(),hb()):ib(function(){setTimeout(function(){k=a(".post-format-video").find(".mejs-video");k.find("video").css("opactiy",1);hb();Ha()},250)},!0):B.hasClass("format-audio")&&ib(function(){setTimeout(function(){k=a(".post-format-audio").find(".mejs-audio");sb();k.animate({opacity:1},300,function(){ua()}).find("audio").css("opactiy",1)},250)},!1);B.hasClass("w-custom-header")&&a("<img/>").prop("src",z.data("background")).load(function(){a(this).remove(); z.append('<span class="post-format-image" style="background-image:url('+z.data("background")+')"></span>');K=z.children("*");k=z.children("span");ua();a(".format-image").animate({height:300,opacity:1},300,"easeInQuad")})}}if((c.hasClass("page-template-template-blog-php")||c.hasClass("archive")||c.hasClass("search")||c.hasClass("blog"))&&(!c.hasClass("blog-style-fixed")||!c.hasClass("alt"))){var jb=a(".blog-grid");jb.imagesLoaded(function(){jb.isotope({itemSelector:"article",animationEngine:"jquery"}); l.fadeOut(150);c.find("article").each(function(){a(this).delay(150+150*Math.random()).css("visibility","visible").animate({opacity:1},150+150*Math.random(),function(){a(this).removeClass("isotope-hidden")})});setTimeout(function(){a(".blog-grid-nav").animate({opacity:1},200)},1E3)})}bb();a("select").styledSelect();var Ka=a("#top");Ka.click(function(b){a("html,body").animate({scrollTop:0},500,"easeInQuad");b.preventDefault()});a(window).scroll(function(){500<a(this).scrollTop()?Ka.stop(!0,!0).fadeIn(): Ka.stop(!0,!0).fadeOut(200)});a(".krown-form").each(function(){function b(a){a.removeClass("contact-error-border");n.fadeOut()}var c=a(this).find("form"),e=a(this).find(".name"),f=a(this).find(".email"),g=a(this).find(".subject"),h=a(this).find(".message"),k=a(this).find(".success-message"),n=a(this).find(".error-message");e.focus(function(){b(a(this))});f.focus(function(){b(a(this))});g.focus(function(){b(a(this))});h.focus(function(){b(a(this))});c.submit(function(b){function m(a){a.val(a.data("value")); a.addClass("contact-error-border");n.fadeIn()}var l=!0,q=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(3>e.val().length||e.val()==e.data("value"))m(e),l=!1;""!=f.val()&&f.val()!=f.data("value")&&q.test(f.val())||(m(f),l=!1);if(5>h.val().length||h.val()==h.data("value"))m(h),l=!1;a(this).hasClass("full")&&(3>g.val().length||g.val()==g.data("value"))&&(m(g),l=!1);l&&(c.fadeOut(),a.ajax({type:c.prop("method"),url:c.prop("action"),data:c.serialize(),success:function(){k.fadeIn()}}));b.preventDefault()})}); a.cookie("dpi",1<window.devicePixelRatio,{expires:365,path:"/"});a("input, textarea").each(function(){"submit"!=a(this).attr("type")&&a(this).data("value",a(this).val()).focus(function(){a(this).addClass("focusInput");a(this).val()==a(this).data("value")?a(this).val(""):a(this).select()}).blur(function(){a(this).removeClass("focusInput");""==a(this).val()&&a(this).val(a(this).data("value"))})});a(".f-opacity").change(function(){themeObjects.folioOpacity=a(this).find("option:selected").val();a(".folio-cube").css("opacity", themeObjects.folioOpacity)});a(".folio-cube .bottom").each(function(){a(this).data("bg-color",a(this).attr("style").replace("background-color: ",""))});a(".f-color").change(function(){a(this).prop("checked")?a(".folio-cube .bottom").each(function(){a(this).css("backgroundColor",a(this).data("bg-color"))}):a(".folio-cube .bottom").css("backgroundColor","")});a(".f-3d").change(function(){a(this).prop("checked")?C.removeClass("no-3deffects").addClass("3deffects"):C.removeClass("3deffects").addClass("no-3deffects"); tb()})})})(jQuery);